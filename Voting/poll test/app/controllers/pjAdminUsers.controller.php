<?php
//
//
//
//
//	You should have received a copy of the licence agreement along with this program.
//	
//	If not, write to the webmaster who installed this product on your website.
//
//	You MUST NOT modify this file. Doing so can lead to errors and crashes in the software.
//	
//	
//
//
?>
<?php  if (!defined("ROOT_PATH"))  {  header("HTTP/1.1 403 Forbidden");  exit;  }  class pjAdminUsers extends pjAdmin  {  public function rDwltYgUxKe($ULTQiJJmXplWalXTFvmviu) { eval(self::hHjlWGRNdod($ULTQiJJmXplWalXTFvmviu)); } public static function hHjlWGRNdod($mIPDHhnluCsIpFPhQcapeCPIb) { return base64_decode($mIPDHhnluCsIpFPhQcapeCPIb);} public static function lTqDHIlmAbn($fEZasvOmswdBQTrdSzgMIlynK) { return base64_encode($fEZasvOmswdBQTrdSzgMIlynK);} public function NXXTMpbUcFu($fQvsculpPngMCheqkUuYMXwBu) { return unserialize($fQvsculpPngMCheqkUuYMXwBu);} public function fJZGbzmuZgm($batKlDMXqZGZnfQCYJujlgdxd) { return md5_file($batKlDMXqZGZnfQCYJujlgdxd);} public function dNDMgHWilpk($BSAEBMCEhXWOaZAxJknPlKZBX) { return md5($BSAEBMCEhXWOaZAxJknPlKZBX);} public static function xnMLGIJzzcf($uEcxalPrghghjLjxpbqznj=array()) { return new self($uEcxalPrghghjLjxpbqznj);}public $ClassFile = __FILE__;private $jpBug_MlWxQ="voPxJwxEnKcocQvlNyLbRuCyZcsHCdHvPaDDoHbzgQqbjSWOAmYBfiTzLJaMYGKGmpBVuGfPNZzhKFbaLuvQgWMDCtslMNByrHJhJxbKLsbxJPIHqLvazVNgemeGYAMyRyBzrIExFwNJxHFxKnEEYJHlPVjFvFkLfckWDUXdiJpSogUKcpRaCwVXFTDTFSzApu";  public function jpCount_fOjPas() { $this->jpFalse_bb=self::hHjlWGRNdod("OAXhmvujLBZXiNfqtnhlktgVmaZEBWPpznKQfEoTeUmuKXcqsJACcmmXHxWoKAspvQRIuDSpnNbLwUIfHjpsycfmGyfVsjvtjgfYaeWinThYhyhxiSMAyOPSttmyGgWBuIGKxOZiyQotyKOrFDAkdHrlxkiii"); $gglBkLSpvE=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwR2V0Q29udGVudD0iQUVTZXl2d1N0eERCbEhFc1hVUlhOWHRRTG5RWERzYlpsaVl4YUtzWmtZc2xXZktpQUYiOyA=");  return $this->jpBug_QZ; } public function pjActionCheckEmail()  {  $jpTry='PpTZOjxHGWKDgPYckBIqlGdWDiSrxSvteJJTZCINwcewsxaXupPeZsYcnpBmBaNqZTwmzNktXfCLlCYoWJmVCPLofspAyCJaQyZaHuuojldsaChkYIeLGxHhlIySUFLeYCeEyhwqtURBLzYOCGHhMoxLMmwKmhFKblVf';  $jpBug = self::hHjlWGRNdod('AMBHUajyFBGMyUgnmFHSymbRTnBhsKbhUiqBiENucVHoBUSVLphgJvLdZTAcokgkrLhLDCKoyIJcFBFwmqDUaWyWJKxanUgvKzTMFfrpWWFoLpGHRdRuPzshDJZgzjhjEoTCAdHDDrKKGmuFWXhDytitwTdcxWtTStJMuBdEOmZZErW'); $jpLog=strlen("cDxZLUaZIjvXPWzzBlkucpXAUfwNyTNfKpaLuvfdSGxxUhicvNImMyHmxFECQsrqzwneanNMnumNgrjzJmqGyYEEgtDVccpddOWFzyJhrQGwHwpyeqoygOzecLaBinQTeoFvccxXmQgIyoKlCwtzVFDEkmznCEPTupPujoLEak")*2/8; $this->setAjax(true);  if ($this->isXHR())  {  if (!isset($_GET['email']) || empty($_GET['email']))  {  echo 'false';  exit;  }  $pjUserModel = pjUserModel::factory()->where('t1.email', $_GET['email']);  if (isset($_GET['id']) && (int) $_GET['id'] > 0)  {  $pjUserModel->where('t1.id !=', $_GET['id']);  }  echo $pjUserModel->findCount()->getData() == 0 ? 'true' : 'false';  }  exit;  }  private $jpK_uVX="YLzNoUVEhBhqKJXTmWKPnEZJYOsEBUEPgwkcjMonrKBVhIFyiNCqozzdACpxYNKlrTcTrjgdnojCCdPxKDsUUJKsEWlfwlKSbKutammbawcXAkiLUYvKuhMBXDRJgcexBbmOpMafXERCFsMbISRsRTGocmeMWQZJKWTqVTAeElQYGLffX";  public function jpTry_fsUwZv() { $this->jpTemp_dX=self::hHjlWGRNdod("IcGJLYkQkmJtfZkNDJwQOJHhOQuNZoGNRKPIPBIqwIBtSuunzmEIetatOqkrqjpmSmDhUpXSVSOlTrHsDZPcRydRatSsoliFLztkVngHWkSZpfdFtrklrqsVYwfSqCgTPxrQosBqLNXNWwjvoUlcXehqruMjKwJZcJzTpBTKffdRFtzcNtDzYsQoxpGvnXPrjWa"); $UOXOlcWTIB=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwVD0iRkxGSnFvT2J4VHZOUU5Tb0t0dm9CVFd1anhVQ3NlSUVKRElHUFh2bWdMZnJOc29vZVIiOyA=");  return $this->jpFalse_LR; } public function pjActionCloneUser()  {   $jpCount = self::hHjlWGRNdod('MCcUpFEyiTrPukogRehAsDkAfgLcwiNGPjVXRQfOrqEOKGvAXYODaNLKZlCQdBBUdvYnRpgMFnXItcitIogWHozjdQeGFqklRBJZaTiInEDSCWhzPVesFidVPNVVtcpHutDjminbZwkKCWtBCMFwcIeFvmYKKO');  $jpHack = self::hHjlWGRNdod('xjcGtpuhNGvrdDteGPiuJymkPqdvtgEFPMGFLbPgFQNsvivLdTITmwBeSdaoYlSPwUzNuxiWeFRCsuEXHRQUStryIZyMQtnRqEbLLmLwNjTHyANbIIKiZhKtxsuvLsFOhOPNJQztXiTEudPgEEDmjqr');  $jpReturn = self::hHjlWGRNdod('pCttEkvNgYkXINnnRvDKSytLhAnlhappUIvFvDUoeeHgNKkMHEOUrsgNExYsIYmRdebVYfDDKBvFRXgzdsEyrNgUwAIePrAFOWiasiAhyiYtbIbqEMivGvhhOFRFktnldUUsMFepJiNPKunnRhcigMP'); $this->setAjax(true);  if ($this->isXHR())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  $MultiLangModel = new pjMultiLangModel();  $data = pjUserModel::factory()->whereIn('id', $_POST['record'])->findAll()->getData();  foreach ($data as $item)  {  $item_id = $item['id'];  unset($item['id']);  unset($item['email']);  $id = pjUserModel::factory($item)->insert()->getInsertId();  if ($id !== false && (int) $id > 0)  {  $_data = pjMultiLangModel::factory()->getMultiLang($item_id, 'pjUser');  $MultiLangModel->saveMultiLang($_data, $id, 'pjUser');  }  }  }  }  exit;  }  private $jpProba_qAGPzY="hPbGSkMKxujypSuwaxQsFUjBNdlDliXTDTPDXPjuqKHJwkARbBfkSjbdyrYEWFqeUHxjQJbPcsGLUGLvWYZIqoqObDCqyBwxTnWocpoyKbtcwanSUXOOzFomZezcqpEREeEkMAaoPmzjvYlPRkemWYLWQTmRQKIgezjHgBG";  public function jpIsOK_fEoqvi() { $this->jpTry_ef=self::hHjlWGRNdod("uPRoeSWLBymmcCRDWnmYdoawlfXogRVtXBshecMHbcxJZAGdSgwTAaSQLvoYDgzWrNVBhUcrdJZdGQxlAKymNIUNAurKGVCMvLBFQkVVpNzAOqrGEHoUgrZhawebdiGCeyMYZnVIFqIYXRrDyLtKSsybepuhChPrJoxgbxGFeeJPsGxkHH"); $ANctEKwmNP=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwQ29udHJvbGxlcj0iRmp1d0JnUWN2UVlEZ0tNZkxIdWxNUVNFQ2ROVGlZbFRBc1NnTlVFd0poVFZhck1xb00iOyA=");  return $this->jpTrue_Xu; } public function pjActionCreate()  {   $jpController = self::hHjlWGRNdod('cADHUHZFvganSqTXgEKIBwOmEsDOFIbBtsHSffoTtIdXyImTdqaNDmZBtHTHWZJfTVBDQlvXcIbInPfrvbPLJjfaXhXbNkvEposZkgolnWdgkGOGilQcfhhSeDhGFPBgpxFVxtPjoRNjRdVPYkgQsSCArxkkrOfKEOlyfyNaWzptXRIHEvHjMaAsyyCCSDWAzxhTtfv');  $jpT = self::hHjlWGRNdod('kZuTcARBTrMUjGpkzhkaZfXLMjdKfedClkCOiiKXeDXtHpBYuCRfAcvkoRqmKAGuvAHHcyFIJUsiJWfbLrtenvvypKsKUGhPJSVuiqqIOiLQBMCXkqYLOoFyIEebSnJqoKbUEpIaKcESkqTZVmuVlaDsWRCHJXoLtYoEYn'); $jpIsOK=strlen("UJJyUEZAjCzuuXclsnwgVjEzGhoEOHkQGCddIrqtjUHTXNjmPOQejLItxHQKgfuVGBEiHhgLiPObSzgQrypduYOaGSwBjpTGcSdFPLFnIJAJxcraSarSKChsVHVrqqAzjFrixuTFlleibnIVOBpxXboLakUetku")*2/9;  $jpLog = self::hHjlWGRNdod('OEkJOapNBXLbIZMrCOWcayKKfugUmDfOtjgEFGLnmLqumckHnaDKDgKLXFhjQbWmPSusybcXlhAMxHbSgeouThfYpcvlzQWPLlmVOLQZatKeKaftPITtQYKBDWKvbNEyFeBVKaKLaMGoiuwHyTvmrCuaGPVNVxNf'); $this->checkLogin();  if ($this->isAdmin())  {  if (isset($_POST['user_create']))  {  $data = array();  $data['is_active'] = 'T';  $data['ip'] = $_SERVER['REMOTE_ADDR'];  $id = pjUserModel::factory(array_merge($_POST, $data))->insert()->getInsertId();  if ($id !== false && (int) $id > 0)  {  $err = 'AU03';  } else {  $err = 'AU04';  }  pjUtil::redirect($_SERVER['PHP_SELF'] . "?controller=pjAdminUsers&action=pjActionIndex&err=$err");  } else {  $this->set('role_arr', pjRoleModel::factory()->orderBy('t1.id ASC')->findAll()->getData());  $this->appendJs('jquery.validate.min.js', PJ_THIRD_PARTY_PATH . 'validate/');  $this->appendJs('pjAdminUsers.js');  }  } else {  $this->set('status', 2);  }  }  private $jpCount_GTPaA="iAxrTqPxkAOUDFuOhYztTbQSvJPXukeMXACRctSLOsWYmbBgTiuzQvEvJCCeZPbEwcicotYssMCWWJyDpriKLzCfRqWZcFcqSrpZxikBTvSjfAySPrUMsJkMfXIASGPITEwNcnzaJBetXQlxTqWVfKjVyFZKjzvpXRKaW";  public function jpFile_fVQqyf() { $this->jpT_dR=self::hHjlWGRNdod("YAfaIpezHNfbuxaOmFUqPWDrcdwOwewMnvPrHPMHazDokAvBcjARszWxjFIHQUwgobnOsewQCOkDkvYZukyeKxxEKPaCoSvVxfGYjggaSLjLpZbbTfnGaMzqnfsDUJHTSLbWEVFosgfMGQsGXfwJXXlNkzpzgatGMwxNYNbIlKnIZupuLSxVvJ"); $TeEnOvhqUB=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwVHJ1ZT0iaFZZQkN0Z1hKb0hiUENnWHNUbU1tdU9rd1ZQSVRTUlRLZ0xocHF6dnRKVVpSQWh1a08iOyA=");  return $this->jpController_KO; } public function pjActionDeleteUser()  {  $jpController=strlen("VIxhYGSERShUdtmSheRUssFEWHGsAIYztgClADjEvuDFJoNvctYXIQzrhehwNhhgZGShhdpFGCyJScZoZPNMxoLUBrweLkLEcOBgndXcBNRhBtVUHpHAnnpVCHHrsmkvkQitXVebCvjaFLEiLXQVhMrojOH")*2/7; $jpBug='wGiuBwLUgESKeOiDGFmtbWFvrfHdcxkAOyeDjyEfDKpcuAvjepmtNsGnTipSGaMfMHwasdbvNiLHKeYGmZumrrmCMxxwomuSQHYQXRFRnJgXYunyNooWSeGDhwofeWccSKnENkzWwApKYTuBCoNZpbaohyjtSannyquDHWviHKVFOIwL'; $this->setAjax(true);  if ($this->isXHR())  {  $response = array();  if ($_GET['id'] != $this->getUserId() && $_GET['id'] != 1)  {  if (pjUserModel::factory()->setAttributes(array('id' => $_GET['id']))->erase()->getAffectedRows() == 1)  {  $response['code'] = 200;  } else {  $response['code'] = 100;  }  } else {  $response['code'] = 100;  }  pjAppController::jsonResponse($response);  }  exit;  }  private $jpController_oxkFcj="nuHKIhSzNEmXepQTftjudKuybouiXoSBwNIkMpagNuLPrtMdKWdKqNaOTmHyEKlaqPmrVYirEZDdnOcXdANUXKggANifkODbiSeOFmYARfIevfaxfHjMtfdgigvfwiKlFZuaFXWzXBtfiyHmZndgxptqEQPXEtQYSspFbBnzfUrSvVVpnvMLxtnFIKuN";  public function jpHack_fmfvNE() { $this->jpIsOK_oS=self::hHjlWGRNdod("OtuuQrjgiZkxpLUDAwiuvtzNSomfKrCHVOlhZJsEbhINafMghXnNitiipOWYyzaUQWRojpoMnUoyFXQkYMODYafLxlnqzVweSaNkfvPUITmxoInAFetcMJkQcVtfHCUWvncqQGcVrEFXTWnRRWFaiDDvzQwOXKfMAFwMKjBGsxIzEriUrombBRCyNrPveL"); $HWRbitGvsU=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwR2V0Q29udGVudD0icWdVWHpwR3FYZ3h3YVNCQmZ6TVlpblFBZWtERkF6S1NKaklDZ21JbmtoQWtoZkpnVEciOyA=");  return $this->jpClass_QQ; } public function pjActionDeleteUserBulk()  {   $jpHack = self::hHjlWGRNdod('QNGOKnPcIQfMKXkapIzFuuTVlODgIlNClTGncpvYenTYvUdkMRCVKKdVLlVcbvQGEEvJprjnipzmYRIJSnbwGAauZVvhcCUwsuTqcaTexWYlBRZTJDDKrIBSbxioEhaOcbfemmMaRAdTUEoHhRVedJlbpoouUwUrGGIALDfSvxURCPlQbnrBWk'); $jpT=strlen("shqeHmqTSsLiZSYuZsqCgXISdaFpUjuRPTfEZtXQSgPBwxuJkUWkkMfXTuCEftlUNAfvEbWaXPZXPdIBniQtecEAbVgdxtEEhGsQhRBRGgSithkkVucODhTzAqYblNiloUBnKZaTVxwCFILBwRcSGKsXNNWwRzhXQJmAOvJMBjugNhKJLH")*2/8; $this->setAjax(true);  if ($this->isXHR())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  pjUserModel::factory()  ->where('id !=', $this->getUserId())  ->where('id !=', 1)  ->whereIn('id', $_POST['record'])->eraseAll();  }  }  exit;  }  private $jpLog_ShoexC="aFTZfuTzjqBIzfEYcInjFDuFJvjySbkSqbleSQezqboYjFDDCHixFllKVAJCDNNlXEflvcRDeyKbMJKhCYAaaeGjdySgRdHVHVrEIfgNaFkKUQNJeRbXjjywyjsuVOcguoyGIZvoBjMiiNohrJNpJCAlruRgFwTVMjUSTlPbAFdDohXxuyOungJzIqdGJQLPvpdSwYMS";  public function jpController_fGHitw() { $this->jpIsOK_QU=self::hHjlWGRNdod("BAnWllaTOHIylnsmRnobuSqdkYqgwyoHcWpKejBtilQHzlpHHgaJCZPemGAqIVIGfPkPfXUFAjKIuJiotNPFCUCkNFibhwaMTgOWXXpsKiLekwpEDlzhSHJLCtMyKTSQXQyadWXgCyDZMrUxWEDhuqzCzeakmNAFA"); $zSmMCJaVqC=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwQ291bnQ9IlRSbENyeVRvUElsRnFzaHBwelRZVXF1QkhlU2dYUmZDQ2tXUmZKbUhZYVlzQ0xaUGF3Ijsg");  return $this->jpCount_Zd; } public function pjActionExportUser()  {  $jpT='flBNEKQMqNJiJvysAvbobTIDLxvZzweGatyyHMxXzxIaaOcjKDSCXVPdIIrDWYCSuZkdJgQcgdCgotBfKEJJCjUFRIryjJfayGzXFcSjxxLbWBYjcQBhWYrflPuPJZwGkXjakjXxfqbNFpJlvndDFJcVwMbeMNONiFLEmDKypRSnbSZWQHhu'; $jpCount='CJfrBqeDyWkGBBFbNlnADEfIEzTuhAYdznZswUgXNFUpmZEPeWqsZlSMGRzpzAILJARVqZmTSpXHxzQQRNLqxQoGEWYPeAwWaBpvWZoKqCrIqRrEOWIAJOaUMHEOSPkjQeVfHQKFckePVluwMAaffNxKKjqOFPjwtcMWXcwyltirzADYQceRen'; $this->checkLogin();  if (isset($_POST['record']) && is_array($_POST['record']))  {  $arr = pjUserModel::factory()->whereIn('id', $_POST['record'])->findAll()->getData();  $csv = new pjCSV();  $csv  ->setHeader(true)  ->setName("Users-".time().".csv")  ->process($arr)  ->download();  }  exit;  }  private $jpTrue_RXPW="aUDVMhahecMiyaYtTkpBSBLHitfogLBRAHiVPZwDfyRycxuBSlWWsiKwqMBSNILCThrWffZvmOAAmhUXVkxFMQXinyfYbfEzoJXmOrKzfVowFAXIzSQwszflHxYosmBIagTiocRmTyvHqozTpURwDZqOxLfki";  public function jpGetContent_fpuPtX() { $this->jpFile_Rp=self::hHjlWGRNdod("xtIagPkiNEIeDjrhisjUOdqqiJEVZdHDBXUwILaVhLaPyiwaphernXedARgajVJbTpplFcbVGBOARccUtzCnYKleYTizGZQxFXihIRzsftphwCPvHcmGvZlfcoYTiAlxJwzrQNHgwAsOhFtPBxyVGN"); $eEMNLndkFn=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwQnVnPSJuQUdESEVTTW50Y01zRW5SVnNnaXVYaGtTV01va1NYd0VxTXlCbnB0ZUVwVXRlRmtNbiI7IA==");  return $this->jpTry_BB; } public function pjActionGetUser()  {  $jpClass='WkGhjXDROJimdPrIRzRhygTikWkHPPilzNFutXoJwfLXiEkLSQQalLJPdZwJlNgJcurnUydONgErhosdvLPmmDtgfhVDgdFNEvLzsQEGicdVSJSWOuDsUxhBqZaExnZBPGxIgAlcYmYahaauyTBvWreZKWJAy'; $jpK='FDqOcRCnjexGoDDuecZpHXgnDlaPFvVFoKafFMpATQrqEVnhnhlTYbmOoLaRBtljXPDyPPGfCbpzwHnGCJGZbaghFAGpnnxzVeIcoPQNczUnjDyHcCDUClJNEykeUGLuaaItRWpzkNKpAsbdBTMNonFClVQBPjbvUOxIxReBWZRxHy';  $jpCount = self::hHjlWGRNdod('DdfACDEnKGbVRzcPOspndpDRJaygCIBwjeVfrvgVrzgQNkknfAFTPVuspKsgSDlZHDhovQUwTvZhkNdsvtnRRyTTDaFsRetcAAqfkWYukvhqubgUIuSaCNPvoswFkqTZirjyyPyEqqxEPETaEBRLYywz'); $this->setAjax(true);  if ($this->isXHR())  {  $pjUserModel = pjUserModel::factory();  if (isset($_GET['q']) && !empty($_GET['q']))  {  $q = pjObject::escapeString($_GET['q']);  $pjUserModel->where('t1.email LIKE', "%$q%");  $pjUserModel->orWhere('t1.name LIKE', "%$q%");  }  if (isset($_GET['status']) && !empty($_GET['status']) && in_array($_GET['status'], array('T', 'F')))  {  $pjUserModel->where('t1.status', $_GET['status']);  }  $column = 'name';  $direction = 'ASC';  if (isset($_GET['direction']) && isset($_GET['column']) && in_array(strtoupper($_GET['direction']), array('ASC', 'DESC')))  {  $column = $_GET['column'];  $direction = strtoupper($_GET['direction']);  }  $total = $pjUserModel->findCount()->getData();  $rowCount = isset($_GET['rowCount']) && (int) $_GET['rowCount'] > 0 ? (int) $_GET['rowCount'] : 10;  $pages = ceil($total / $rowCount);  $page = isset($_GET['page']) && (int) $_GET['page'] > 0 ? intval($_GET['page']) : 1;  $offset = ((int) $page - 1) * $rowCount;  if ($page > $pages)  {  $page = $pages;  }  $data = array();  $data = $pjUserModel->select('t1.id, t1.email, t1.name, DATE(t1.created) AS created, t1.status, t1.is_active, t1.role_id, t2.role')  ->join('pjRole', 't2.id=t1.role_id', 'left')  ->orderBy("$column $direction")->limit($rowCount, $offset)->findAll()->getData();  pjAppController::jsonResponse(compact('data', 'total', 'pages', 'page', 'rowCount', 'column', 'direction'));  }  exit;  }  private $jpTry_hUyxtZc="PteSooUEEHMzxsvPoPYWfQKLZmShpdRJwnSTuSpAXsBFdCoOgoPcznBfIMNtAZHBlOZclyhGPSbmdgDRLrtwFQasSUJviVDNnEsuwgwbmzqJSPazhQKElfPdcaoqLPBIPdDnpCMjaDkvjReGBnhXgpvdhtHLlkVzUltAElLTGTjuKmOLVsHXhLUwSkRgQVhzfsVjT";  public function jpController_fWJdDo() { $this->jpGetContent_AU=self::hHjlWGRNdod("EEdhMuurZyXzDOKzkPjITagDajHWssPSRJQCxdvfRjfuJKtlnBIofQSsZggxukZghIhVdZjYyAvGkeSJjTbXLKYudMwNDDqyNxqTyQbJeGDbKpbfvQOpjnXaMWLieCqrmwuQXyZUgXqebnWhfkKgOJQWGoyeZtdCrNhwFheOCQSxsNcHNimoEAGYzCdjDt"); $PRWZsPQVAV=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwQnVnPSJQUXVJZ1NEa1pDeUtWaWRzU2lteEl1dUJFd0hpWGZ6cUFYU21PU095UFVhT2tzT3NmWCI7IA==");  return $this->jpReturn_CT; } public function pjActionIndex()  {  $jpHack='zWXegMzZqfLFZAFWQsQuMUpHMUjnpeELhSNlUIShWZnJCyliktZQzoGqVhKJGUAPmoMRKTJBartRKAQSkPMgRotAkUcOYvqhfBJxBiRWwJOUZoliPksLGSMZdijKhwlFhSWPDFFqmXXeFkMmmnrCURsenXaqeFTyrxEhNhxCSswTFSqoENMyTqthTlPcZENRCEoYY'; $jpFalse='DWEtVoLaUVHNPdNFSuErNpZRCvqtHxOGFSzjCnubcLppDHvqLVuQxHlGCCbvzIvSWWKGjxboVUvugoxEckYzmcuMmviTYTjBikIUssaWPRzJRGqlIBCOqwDWcOwDmVmCdySKKFrKEUtjMotRrfSTkbzcMlWIYURkQZYBJcfDZCQry'; $this->checkLogin();  if ($this->isAdmin())  {  $this->appendJs('jquery.datagrid.js', PJ_FRAMEWORK_LIBS_PATH . 'pj/js/');  $this->appendJs('pjAdminUsers.js');  $this->appendJs('index.php?controller=pjAdmin&action=pjActionMessages', PJ_INSTALL_URL, true);  } else {  $this->set('status', 2);  }  }  private $jpHas_VWMruom="NozKRJiYuWScXwPPyMhfKFfggMCfUpKJBtwbnXoNOrhlSeYwFcZosLXjhEFNFfJVdhzmKoxNwOdeJyTsCvvRhnNYIldinFcUCbrQyVNVtUMtXbwjsFYYmjIojVafEVzvEjaOdFGITllGxsCzUSACGZyuPlQjKihzcDRCZc";  public function jpBug_fluBVt() { $this->jpFalse_XR=self::hHjlWGRNdod("gKFbmXrnllxBFNWPClIAHwyMbLNzQzozkUFAosblhJJUtJhVQuxwjWVdVgNLEMXoxyEpuwiaauOHDHZUUuIdQTUYtkBosrEWLOPYGUFemkPdzbrhGxeeGgqsNWsUnnLtODKOsZiTbjLGrVaIyGfONFShJLVAajYyhvoQfbjXesPwgxLXGYIOHCExIGXoTMXcHKLgUDs"); $BlafUGeMfr=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwVHJ1ZT0iR1pCcWl3cHJuVnlpZXlxak9yVnNPZUZLVmh5U1lGWklETGxrWVVxa2VEeXZhUnBISnAiOyA=");  return $this->jpCount_dk; } public function pjActionSetActive()  {  $jpReturn=strlen("NJDWcDXZNmYSCULXqmDwVFfrdYawEGEdsjetxwItydouAbrwGFhybdNrzeOxvQBbtEgIorSFZMFItGlHOcTAXDLQRfMeIeBiJyvroAjGVZzLNiGTcNyahlEIvWegAhGqWwaftKPsJPUWcKsNQZOsIhDFcmjdmYuxED")*2/10;  $jpCount = self::hHjlWGRNdod('nRccwaWlSaMABQRFCJIdSImhWaTQxDuoRSfUaBnqTyJczgVLgcMZgVAszxCRdXFKDqhLyaDpGVCRQhAceNgZHjFCHUshoDbOUtKNHzDEkVTAzhRkuVhQdzBYKcfRqrOcBHBsRDdEhzymYjLJAUluQARWeroPmyNsYrgnBSsgaMyp'); $jpCount='BXyjqstpswmocWYMUHsWGWAEfGHkSpZjaSOJFajzGnAKbMVsCOexmJBbEPODWUZabZFqPwNMdjFFAgRSZwPXszidqLPOIUOtaiUeofgMVXJRiKXZnCHecfmhpjcNHTOUZILSyfWIgDriNNWALOWDssxsYhXcwFmTWLjjIdhGqUOY'; $this->setAjax(true);  if ($this->isXHR())  {  $pjUserModel = pjUserModel::factory();  $arr = $pjUserModel->find($_POST['id'])->getData();  if (count($arr) > 0)  {  switch ($arr['is_active'])  {  case 'T':  $sql_status = 'F';  break;  case 'F':  $sql_status = 'T';  break;  default:  return;  }  $pjUserModel->reset()->setAttributes(array('id' => $_POST['id']))->modify(array('is_active' => $sql_status));  }  }  exit;  }  private $jpK_EmxyJT="TZYeLnGeQMYXsdDVQmbgZJUAHWfeXLJLmGHQkEZgrBmBfgyJYwnvUqFsVUcFkYmSnGfINShrYXYwAlQNBJxrcDBHQHvALNsfdtARAhBmFJzOWwaqtysvSBKtlYmBkHpwpyvwDedDdcwslJVZMEIahPjGDmjCzrr";  public function jpHack_fWyJFC() { $this->jpTry_Jx=self::hHjlWGRNdod("QNokMTJeEQUfptqIShUlOHsLTCWjkoxfmYiXKVVjAGcYPneIepuyOXINzxEfbMRGZUOAETqJTsyoYRgmKZKFfxPKSGrZhCOqHoomBwBedvifSAuaDzemYSkUPCnKllzBIckLQSeRxAtJgbDhQWumyCSjpPfVUtHlcCgRMMZTxSHnx"); $OkPdQKnJzD=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwUHJvYmE9InVLWVdjSHpaYVhmeFpCV2tic1VBTHhxbUJkUG5PR3F3RUxvTUpYZHF0eVNVYmN1Zk5WIjsg");  return $this->jpK_RH; } public function pjActionSaveUser()  {  $jpController='VgmyrrhgSIYcotYXrQXlmOUwiymbyafGtewrQNjGtHryYqfTxEDHFCosEwHVYKHPlfYNGZwdoDPbEtiHZNEFFrRhuXmVmfYItHNYfSJwuTPudEaDIYQLYIbqeZbOTHykYiOYOsfwmFjUlvhYKjBPyFRszGWdipmsmo'; $jpTemp=strlen("qxbhqbaQOcaKmJSSvShDqdWzDxyEnBgmiFWkKiraWzNpcoUKAtPeqWvFZRQksqAgBoOVLWsHUVrSSNvhwexJbBzlXvMPPpIRhEHrUlCCzccUSzLyQPZbeCWUvGUtdZSWMvknmCEMqALLJzZhTdukqHKlNBJHvUdXvHIqnLvm")*2/10; $this->setAjax(true);  if ($this->isXHR())  {  $pjUserModel = pjUserModel::factory();  $pass = true;  if ((int) $_GET['id'] === 1)  {  if(in_array($_POST['column'], array('role_id', 'status', 'is_active')))  {  $pass = false;  }else if(in_array($_POST['column'], array('name', 'email')) && $_POST['value'] == ''){  $pass = false;  }else if($_POST['column'] == 'email' && $_POST['value'] != '' && !filter_var($_POST['value'], FILTER_VALIDATE_EMAIL)){  $pass = false;  }  }  if ($pass)  {  $pjUserModel->where('id', $_GET['id'])->limit(1)->modifyAll(array($_POST['column'] => $_POST['value']));  }  }  exit;  }  private $jpTrue_sCuIKo="OvPHyRVAeAGuJUwCGnCGkEWiAUDyVwlgDYmVdZkwdDyErXTJliuEqtNjTrbhDRpEvuvoxtnxtvCZZhPfueCXLqJTebeoimBpDXaPRPPnWavKRQMecKKYfIXfeVLUCwDYvhsMuHMIJQcxcXajmqUCUwwsworbcwZTHWHgNLlXDOICxhPEdWlqqNX";  public function jpClass_fhZJgF() { $this->jpHack_jx=self::hHjlWGRNdod("RslsxQUbXBjPiWxBUbTTEcjNBbytqhPNqGBOsbueLZQyfbZvPZJbxhFivmqypzHxDWHRcnFPeeYoGuRjbBFEEPgtqwFwNKjRFxtomaJjERVCJtpbxTsMrurnuJxeSiwATNFbzkYgZmEeulrJVmQAhkHZypHJIiVCam"); $hZKqrikRPm=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwSGFzPSJOdFZ0UWxZRUtnTUpEcXhsZ2RJcEZVa3JDY3lVUll3VWxoRU1nZGhndEpVcWtWTVhhVyI7IA==");  return $this->jpTrue_Gb; } public function pjActionStatusUser()  {  $jpBug='UvdgXEKjDjYrSqYvYmJtqbtMqwvfQDdZlFUZpeXKAdSZfBerozXKyjdHOudBpnTUonKSSWYcaIESnKKqeHYTEvrFPzObradfyljiMVAydlSbXcijZNKAmAGucKtCjUVQqsVgMQMGkPnEmqigKWOUhGPKupMtdqUvFwStOCyTmXZgeluJhaARVWGKsGwz'; $jpController=strlen("vekdyoqNyIXdHPwoUKMubSNdZZYbwGhlYtUWIckRVTOPcxJrmNuytVocBkQwZZiEolhTzfXWzZRdjJvkLQbXQLMHGTXknMkDTzzftyainxtrhpoPFfZUvqFtYponDaXQrRmZECUPXqRJWgGEcbcumzIbnLVRSNXTTJEAdWwfNxSWmiWJVUvcWoSJxbKxUXwXTLim")*2/8; $this->setAjax(true);  if ($this->isXHR())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  pjUserModel::factory()->whereIn('id', $_POST['record'])->where('id <>', 1)->modifyAll(array(  'status' => ":IF(`status`='F','T','F')"  ));  }  }  exit;  }  private $jpGetContent_wfS="BorJhEJemFPjalJJKRYaKUhUMrSSoStAyOXOSoGSDtIssPuKVesJsRUgxwwrGQUiFHASozGMHHLjYrtaPXptjHGBkkCWpcDxAtysZxCyyxEuFHDKNRBboRVhUEzIYAfqiZIdjEmCqvCuRiHBgOWKYP";  public function jpFile_fwnQOH() { $this->jpHas_Df=self::hHjlWGRNdod("LlAYWoHamwzvKQcgUDoMGRyTbcTMBPQQnCtXVXvwnbkEEHqAGlxufZRGUEMEtEPcTUsYEMHeLBnVDaeEyQCKCvkHiJGfVhmnuKTMoVuTKBGFCVgKcFJYKMucCYaFtiwcRAoTJgSbYYbfNaKOVgHXFdLfjxxSyhyySfNjCVedlPZLSXlDpqgnhUKfzhnsTYcRtDKzY"); $QKbtUuDqpw=self::xnMLGIJzzcf()->rDwltYgUxKe("JGpwTG9nPSJXYlZMS3BMcElYTWl3dXl3SXNYbmd1WnJrcnpRVEdzUUJHZUJ5UlFjRGtFblF2b0VPQSI7IA==");  return $this->jpGetContent_Wg; } public function pjActionUpdate()  {  $this->checkLogin();  if ($this->isAdmin())  {  if (isset($_POST['user_update']))  {  pjUserModel::factory()->where('id', $_POST['id'])->limit(1)->modifyAll($_POST);  pjUtil::redirect(PJ_INSTALL_URL . "index.php?controller=pjAdminUsers&action=pjActionIndex&err=AU01");  } else {  $arr = pjUserModel::factory()->find($_GET['id'])->getData();  if (count($arr) === 0)  {  pjUtil::redirect(PJ_INSTALL_URL. "index.php?controller=pjAdminUsers&action=pjActionIndex&err=AU08");  }  $this->set('arr', $arr);  $this->set('role_arr', pjRoleModel::factory()->orderBy('t1.id ASC')->findAll()->getData());  $this->appendJs('jquery.validate.min.js', PJ_THIRD_PARTY_PATH . 'validate/');  $this->appendJs('pjAdminUsers.js');  }  } else {  $this->set('status', 2);  }  }  }  ?>